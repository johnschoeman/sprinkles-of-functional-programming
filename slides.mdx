export { default as theme }  from './theme'

import { Appear, Head, Notes } from 'mdx-deck'
import { Split, Horizontal } from 'mdx-deck/layouts'

import { Colors } from './styles'

<Head>
  <title>Sprinkles of FP</title>
</Head>

<h1>
  Sprinkles of Functional Programming
</h1>

---

<div>Hello I'm John,</div>
<div>
<div>I work at</div>
<div><img src="./images/tb_horizontal_default.png" /></div>
</div>

---

<ul>
<li>
Github: /johnschoeman
</li>
<li>
Twitter: @john_at_aol_dot_com_at_gmail_dot_com
</li>
</ul>


---

<Split>
<h3>Roadmap</h3>
<ul>
<Appear>
<li style={{width: "150%"}}>Key Thesis</li>
<li style={{width: "150%"}}>A Bit about FP and OO</li>
<li style={{width: "150%"}}>A Recommendation</li>
<li style={{width: "150%"}}>A Story with Some Code</li>
<li style={{width: "150%"}}>Retro / Action Items</li>
<li style={{width: "150%"}}>Questions</li>
</Appear>
</ul>
</Split>

---

<h2>Key Thesis</h2>

---

<h3>Ruby</h3>
<div>is a general purpose language.</div>

<Notes> it is excellent with both object oriented programming and functional progamming
</Notes>

<Notes> the developer gets to choose</Notes>

---

<Horizontal>

<div><img style={{ width: "55%" }} src="./images/01.png" /></div>

<div><img style={{ width: "70%" }} src="./images/02.png" /></div>

</Horizontal>

---

<h3>Different Paradigms</h3>
<div>lend themselves to different tasks.</div>

<Notes>
some times we want to model some real world interactions, create things that
represent a useful thing.

sometime we want take some information from point a to point b, sometimes we
want to ask some quantitative question of some data.

</Notes>

---

<Horizontal>
<div style={{ width: "500px"}}><h4>OO -> Behaviour</h4></div>
<div style={{ width: "500px"}}><h4>FP -> Data</h4></div>
</Horizontal>

---

<h3>We should choose</h3>
<div>our progamming style based off the task at hand.</div>
<div>Doing so will lead to a better product.</div>

<Notes>
   Some automation tasks lend themselves to an object oriented solution, some to a
   functional solution.
  - Sometimes it makes sense to program ruby in an object oriented way
  - other times it makes sense to program ruby in a functional way.
  - It depends on the task.
  - (you may now leave)
</Notes>

---

<div>
<div>If you are modeling <text style={{ color: Colors.primary }}>behaviour</text>,</div>
<div>perfer <text style={{ color: Colors.primary }}>classes</text> and <text style={{
color: Colors.primary }}>composition</text>.</div>
</div>
<br />
<div>
<div>If you are handling <text style={{ color: Colors.primary }}>data</text>,</div>
<div>perfer data <text style={{ color: Colors.primary }}>pipelines</text> and <text
style={{ color: Colors.primary }}>folds</text>.</div>
</div>

---

<h2>A Bit about FP and OO</h2>

---

<h3>Objects and Functions</h3>
<div>are a useful distinction.</div>

<Notes>
explain what you mean by fp
it's not a percise term, it means some different depending on who you're talking
to 
 functions are at the forfront
 avoiding mutation
 avoiding side effects
</Notes>

---

<h3>What is difficult to change</h3>
<div>is also a useful distinction.</div>

---


<table>
  <thead>
    <tr style={{ borderBottom: "1px solid black", borderTop: "3px solid black" }}>
      <th></th>
      <th style={{ padding: "30px", textAlign: "left", color: Colors.primary }}>Add new method</th>
      <th style={{ padding: "30px", textAlign: "left", color: Colors.primary }}>Add new data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style={{ padding: "30px 60px", fontWeight: "bold", color:
Colors.primary }}>OO</td>
      <td style={{ padding: "30px", textAlign: "left", fontSize: "0.8em" }}>Existing code unchanged</td>
      <td style={{ padding: "30px", textAlign: "left", fontSize: "0.8em" }}>Existing code changed</td>
    </tr>
    <tr style={{ borderBottom: "3px solid black" }}>
      <td style={{ padding: "30px 60px", fontWeight: "bold", color:
Colors.primary }}>FP</td>
      <td style={{ padding: "30px", textAlign: "left", fontSize: "0.8em" }}>Existing code changed</td>
      <td style={{ padding: "30px", textAlign: "left", fontSize: "0.8em" }}>Existing code unchanged</td>
    </tr>
  </tbody>
</table>

---

<Split>
<h3>OO Typical cases</h3>

<ul>
<Appear>
<li style={{width: "150%"}}>Behaviour modeling</li>
<li style={{width: "150%"}}>Relationship modeling</li>
<li style={{width: "150%"}}>Interation modeling</li>
</Appear>
</ul>

</Split>

---

<Split>
<h3>FP Typical cases</h3>
<ul>
<Appear>
<li style={{width: "150%"}}>Data transformations</li>
<li style={{width: "150%"}}>Data aggregates</li>
<li style={{width: "150%"}}>Data streaming</li>
<li style={{width: "150%"}}>Data templating</li>
</Appear>
</ul>
</Split>

---

<h2>A Recommendation</h2>

---

<h3>Given</h3>
<div>that methods are easy to change in OO</div>
<div>and data are easy to change in FP</div>

---

<h3>Ask</h3>
<div>how you expect requirements</div>
<div>will change before beging a task.</div>

<Notes>
  A good way to decide which task goes to which is by asking what is more
  likely to change in the future of your program, the behaviour, or the data?
  thus given a task you're solving with programming, if you expect behaviour to
  change, prefer object oriented. if you expect data to change, prefer functional programming
</Notes>

---

<h3>Base</h3>
<div>this question off the context of your buisness</div>
<div>and what users might want.</div>

---

<h2>A Story</h2>
<div>with some code</div>

---

<h3>Imagine a Rails App</h3>

<Notes>
explain the app: a generic rails product monolith, there are users, which have
things, and can do things, say a b to b of medium to largish size.

explain the problem: users would like to migrate to the app, they need to upload
their spreadsheets to the app, we need to ingest those spreadsheets, save the
rows for the users as active record objects. They'd like to upload the
spreadsheets to an ftp server and we'll poll it every day to import the files.

Lets call this product...
</Notes>

---

<h3>Inital Requirement</h3>

<Notes>
1. rake task to poll the data - iterate over the files in the ftp server, kick
   off background worker
2. worker: call importer class - iterate over the rows, save to the database
3. success
</Notes>

---

<h3>New Requirement</h3>

---

<h3>And so on...</h3>

---

<h2>Retro / Action Items</h2>

---

<ul>
<li>Inital Requirement: Clients Import CSV</li>
<li><text style={{ color: Colors.primary }}>and then</text> New Requirement: .xlsx + .csv</li>
<li><text style={{ color: Colors.primary }}>and then</text> New Requirement: New Client, New Format</li>
<li><text style={{ color: Colors.primary }}>and then</text> New Requirement: Data Validations</li>
</ul>

<Notes>
new requirements from the sales team. they want csv and excel (and they
apparently can't just export excel to csv)
</Notes>

---

<h3>Take Aways - Code Quality</h3>

---

<Split>
<div>
<h2>Benefits</h2>
<div>of chosing the right paradigm for the task</div>
</div>
<ul>
<Appear>
<li>Less Code</li>
<li>Easier to Test</li>
<li>More Flexible</li>
<li>More Honest</li>
</Appear>
</ul>
</Split>

<Notes>
This is why your life may be better if you choose these approaches
</Notes>

---

<Split>
<div style={{ width: "90%" }}>
<h2>Paradigm Smells</h2>
<div>Using OO for a task</div>
<div>that lends itself to FP</div>
</div>
<ul style={{ width: "110%" }}>
<Appear>
<li styles={{ width: "150%" }}>divergent changes</li>
<li styles={{ width: "150%" }}>shotgun surgery</li>
<li styles={{ width: "180%", border: "1px solid red" }}>lots of 'something-er' classes</li>
<li styles={{ width: "150%" }}>UDL is a linked list</li>
</Appear>
</ul>
</Split>

---

<h3>Take Aways - Process</h3>

---

<div>
<h3>It's Useful</h3>
<div>to consider the what about the task you expect to change</div>
</div>

---

<h3>Sprinkles,</h3>
<div>
just a little goes a long way
</div>

<Notes>
The majority of what we want to do in our Rails apps is concerned with
behaviour, so we would expect that most of our applicaiton code will be classes
and object, thats our models, sevice objects, controllers, but sometimes we have
other task that needs to be done which would lend themselves to a funcitonal
style, but it would be a mistake to try to do everything in a functional style.
</Notes>

---

<h3>Be Conscientious</h3>
<div>of buisness goals before starting work.</div>

<Notes>
It's only helpful to pick one paradigm over the other when we know something is
is likely to change and in what way it will change. If you're not considering
the bigger picture, you're at risk of choosing poorly.
</Notes>

---

<Split>
<h2>Action Items</h2>
<ol>
<Appear>
<li>Understand your task before you choose style</li>
<li>Ask what do you expect will change?</li>
<li>Data or Behaviour?</li>
<li>if Data, consider a functional style</li>
<li>if Behaviour, consider a object oriented style</li>
</Appear>
</ol>
</Split>

---

<h3>Thesis</h3>
<ul>
<Appear>
<li>Given Ruby is a general purpose language.</li>
<li>And different paradigms lend themselves to different tasks</li>
<li>We should choose our style based off of our task</li>
</Appear>
</ul>

---

<h2>Questions</h2>
