export { default as theme }  from './theme'

import { Appear, Head, Notes } from 'mdx-deck'
import { Split, Horizontal } from 'mdx-deck/layouts'

<Head>
  <title>Sprinkles of FP</title>
</Head>

<h1>
  Sprinkles of Functional Programming
</h1>

---

<span>{ "***" }</span>

---

<div>Hello I'm John</div>
<Horizontal>
  <div>I work at</div>
  <div><img src="./images/tb_horizontal_default.png" /></div>
</Horizontal>

---

Github: /johnschoeman
Twitter:
<a>
  @john_at_aol_dot_com_at_gmail_dot_com
</a>

---

<h2>
  Take Aways / Key Thesis
</h2>

---

<div>1.</div>
<h3>Ruby</h3>
<div>is a general purpose language.</div>

<Notes> it is excellent with both object oriented programming and functional progamming
</Notes>

<Notes> the developer gets to choose</Notes>

---

<Horizontal>

```
Object.new
```

```
l = -> x { x + 1 }

```
</Horizontal>

---

<div>2.</div>
<h3>Automation tasks</h3>
<div>are not all the same</div>

<Notes>
some times we want to model some real world interactions, create things that
represent a useful thing.

sometime we want take some information from point a to point b, sometimes we
want to ask some quantitative question of some data.

Some automation tasks lend themselves to an object oriented solution, some to a
   functional solution.
</Notes>

---

<Horizontal>
<h4>Behaviour</h4>
<h4>Objects</h4>
</Horizontal>

<br />

<div>
<h4>Data</h4> lends itself to <h4>Functions</h4>
</div>

---

<div>
  Given 1 and 2 we can conclude:
</div>

---

<div>3.</div>

<h3>We should Choose</h3>
<div>our progamming style based off of our task</div>

<Notes>
  - Sometimes it makes sense to program ruby in an object oriented way
  - other times it makes sense to program ruby in a functional way.
  - It depends on the task.
  - (you may now leave)
</Notes>

---


`-` | Add new method | Add new Data
---|---|---
OO | Existing code unchanged | Existing code changed
FP | Existing code changed | Existing code unchanged


<Notes>
Give a few examples of 
</Notes>

---

<Split>
<h3>Typical cases</h3>
<Appears>
<li>Data transformations</li>
<li>Data aggregates</li>
</Appears>
</Split>

---

<h3>Ask</h3>
<small>What do you expect will change</small>

<Notes>
  A good way to decide which task goes to which is by asking what is more
  likely to change in the future of your program, the behaviour, or the data?
  thus given a task you're solving with programming, if you expect behaviour to
  change, prefer object oriented. if you expect data to change, prefer functional programming
</Notes>

---

<ol>
<Appear>
<li>Understand your task before you choose style</li>
<li>Ask what do you expect will change?</li>
<li>Data or Behaviour?</li>
<li>if Data, consider a functional style</li>
<li>if Behaviour, consider object oriented style</li>
</Appear>
</ol>

---

<h2>Illustration</h2>

---

<p>Imagine a Rails App</p>

<Notes>
explain the app: a generic rails product monolith, there are users, which have
things, and can do things, say a b to b of medium to largish size.

explain the problem: users would like to migrate to the app, they need to upload
their spreadsheets to the app, we need to ingest those spreadsheets, save the
rows for the users as active record objects. They'd like to upload the
spreadsheets to an ftp server and we'll poll it every day to import the files.

Lets call this product...
</Notes>

---

<h3>Inital Requirement</h3>

<Notes>
1. rake task to poll the data - iterate over the files in the ftp server, kick
   off background worker
2. worker: call importer class - iterate over the rows, save to the database
3. success
</Notes>

---

<Split>
<h4>New Requirement: .xlsx + .csv</h4>
<div><img src="./images/02.png" /></div>
</Split>

<Notes>
Add dimension: Excel + CSV
new requirements from the sales team. they want csv and excel (and they
apparently can't just export excel to csv)
</Notes>

---

<Split>
<h4>New Requirement: Data validations</h4>
<div><img src="./images/02.png" /></div>
</Split>

---

<Split>
<h4>New Requirement: New Client, New Format</h4>
<div><img src="./images/02.png" /></div>
</Split>

---

<h1>FP</h1>

---

<Split>
<h4>.xlsx + .csv</h4>
<div><img src="./images/02.png" /></div>
</Split>

---

<Split>
<h4>Data validations</h4>
<img src="./images/02.png" />
</Split>

---

<Split>
<h4>New Client, New Format</h4>
<img src="./images/02.png" />
</Split>

---

<Split>
<h2>Benefits</h2>
<ul>
<Appear>
<li>Less Code</li>
<li>Much easier to test</li>
<li>Separation of state from conditionals</li>
<li>more flexible</li>
<li>more honest</li>
</Appear>
</ul>
</Split>

<Notes>
This is why your life may be better if you choose these approaches
</Notes>

---

<Split>
<h2>Paradigm Smells</h2>
<ul>
<Appear>
<li>divergent changes</li>
<li>shot gun surgery</li>
<li>desire to hide complexity</li>
</Appear>
</ul>
</Split>

---

<Split>
<h2>Process Smells</h2>
<ul>
<Appear>
<li>Bifurcated communication channels</li>
<li>Buisness Dev not pushing back on client requests</li>
<li>Being reactive rather than proactive</li>
</Appear>
</ul>
</Split>

---

<h2>Recap</h2>

---

<div>
It's useful to consider the type of task you are trying to accomplish before you
the programming style
</div>

---

<div>
Its' useful to consider the what about the task you expect to change: behaviour,
or data
</div>

<Appears>
  <li>If you expect behaviour to change, perfer object oriented</li>
  <li>If you expect data to change, prefer functional</li>
</Appears>

---

<h3>Sprinkles</h3>
<div>
just a little goes a long way
</div>

<Notes>
The majority of what we want to do in our Rails apps is concerned with
behaviour, so we would expect that most of our applicaiton code will be classes
and object, thats our models, sevice objects, controllers, but sometimes we have
supporting work that needs to be done and sometimes those tasks would be better
served with a functional approach
</Notes>

---

<h3>Be Conscientious</h3>
<div>of buisness goals before starting work</div>

---

<h2>Questions</h2>
